:root{--bg: #FFFFFF;--surface: #F5F5F5;--onSurface: #1F1F1F;--onBackground: #121212;--accent: #6200EE;--accent-variant: #3700B3;--secondary: #03DAC6;--error: #B00020;--text-primary: #1F1F1F;--text-secondary: #555555;--border-color: #DCDCDC;--input-bg: #EEEEEE;--bg-rgb: 255, 255, 255;--surface-rgb: 245, 245, 245;--onSurface-rgb: 31, 31, 31;--onBackground-rgb: 18, 18, 18;--accent-rgb: 98, 0, 238;--secondary-rgb: 3, 218, 198;--error-rgb: 176, 0, 32;--text-primary-rgb: 31, 31, 31;--text-secondary-rgb: 85, 85, 85;--header-height: 56px;--toolbar-height: 48px;--editor-font-scale: 1}html.dark{--bg: #121212;--surface: #1E1E1E;--onSurface: #E0E0E0;--onBackground: #E0E0E0;--accent: #BB86FC;--accent-variant: #3700B3;--secondary: #03DAC6;--error: #CF6679;--text-primary: #E0E0E0;--text-secondary: #A0A0A0;--border-color: #333333;--input-bg: #2A2A2A;--bg-rgb: 18, 18, 18;--surface-rgb: 30, 30, 30;--onSurface-rgb: 224, 224, 224;--onBackground-rgb: 224, 224, 224;--accent-rgb: 187, 134, 252;--secondary-rgb: 3, 218, 198;--error-rgb: 207, 102, 121;--text-primary-rgb: 224, 224, 224;--text-secondary-rgb: 160, 160, 160}html,body{background-color:var(--bg);color:var(--onBackground);font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol;line-height:1.6}*:focus-visible{outline:2px solid var(--accent);outline-offset:2px;box-shadow:0 0 0 4px rgba(var(--accent-rgb),.3)}*{margin:0;padding:0;box-sizing:border-box;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}body{overscroll-behavior-y:contain;background-color:var(--bg);color:var(--onBackground)}body.body-modal-open{overflow:hidden}::-webkit-scrollbar{width:8px;height:8px}::-webkit-scrollbar-track{background:var(--surface)}::-webkit-scrollbar-thumb{background:var(--text-secondary);border-radius:4px}::-webkit-scrollbar-thumb:hover{background:var(--accent)}.hidden{display:none!important}.flex{display:flex}.flex-col{flex-direction:column}.flex-1{flex:1}.h-screen{height:100vh}.overflow-hidden{overflow:hidden}.overflow-auto{overflow:auto}button,a{background:none;border:none;font:inherit;color:inherit;cursor:pointer;text-decoration:none;-webkit-tap-highlight-color:transparent}button:disabled,a:disabled{opacity:.5;cursor:not-allowed}h1,h2,h3,h4,h5,h6{font-weight:600;line-height:1.3;color:var(--text-primary)}ul,ol{list-style:none}img{max-width:100%;height:auto;display:block}.placeholder-gray-500::placeholder{color:var(--text-secondary);opacity:.7}.hover\:bg-gray-700\/50:hover{background-color:rgba(var(--onSurface-rgb, 224,224,224),.1)}html.dark .hover\:bg-gray-700:hover{background-color:#374151}#chapterDrawer{background-color:var(--surface);color:var(--onSurface)}@media (max-width: 767px){#chapterDrawer.open{transform:translate(0)}}#chapterList li{display:flex;justify-content:space-between;align-items:center;padding:.65rem .75rem;border-radius:6px;cursor:pointer;transition:background-color .2s ease-in-out,opacity .2s ease-in-out,color .2s ease-in-out;word-break:break-word;border-left:3px solid transparent;color:var(--text-primary)}#chapterList li:hover,#chapterList li:focus-visible{background-color:rgba(var(--accent-rgb),.15);color:var(--accent);border-left-color:rgba(var(--accent-rgb),.3)}#chapterList li.active-chapter{background-color:rgba(var(--accent-rgb),.2);color:var(--accent);font-weight:600;border-left:3px solid var(--accent);padding-left:calc(.75rem - 3px)}#chapterList li.active-chapter:hover,#chapterList li.active-chapter:focus-visible{background-color:rgba(var(--accent-rgb),.25)}#chapterList li .chapter-title{flex-grow:1;margin-right:.5rem;cursor:grab}#chapterList li .drag-handle-icon{color:var(--text-secondary);opacity:.7;transition:color .2s,opacity .2s}#chapterList li:hover .drag-handle-icon,#chapterList li:focus-visible .drag-handle-icon{color:var(--accent);opacity:1}#chapterList li.active-chapter .drag-handle-icon{color:var(--accent);opacity:.85}#chapterList li.sortable-chosen .drag-handle-icon{color:var(--accent)!important;opacity:1!important}#chapterList li .delete-chapter-btn{color:var(--error);font-size:1.1rem;padding:.25rem;border-radius:50%;line-height:1;opacity:.7;transition:opacity .2s,background-color .2s}#chapterList li .delete-chapter-btn:hover,#chapterList li:focus-visible .delete-chapter-btn{opacity:1;background-color:rgba(var(--error-rgb),.2)}.sortable-ghost{opacity:.4;background-color:rgba(var(--accent-rgb),.25)!important;border:1px dashed var(--accent);border-radius:6px}.sortable-chosen{opacity:.5!important;background-color:var(--surface)!important}.sortable-drag{opacity:.9!important;background-color:var(--surface)!important;box-shadow:0 4px 12px #0000004d!important;border-radius:6px}@keyframes listReorderFlashAnimationLight{0%,to{background-color:var(--surface)}50%{background-color:rgba(var(--accent-rgb),.1)}}@keyframes listReorderFlashAnimationDark{0%,to{background-color:var(--surface)}50%{background-color:rgba(var(--accent-rgb),.15)}}html:not(.dark) #chapterList.list-reordered-flash{animation:listReorderFlashAnimationLight .7s ease-in-out}html.dark #chapterList.list-reordered-flash{animation:listReorderFlashAnimationDark .7s ease-in-out}#chapterList .no-chapters-message{padding:1rem;text-align:center;color:var(--text-secondary)}#chapterContextMenu{position:absolute;background-color:var(--surface);color:var(--onSurface);border:1px solid var(--border-color);border-radius:6px;z-index:150;padding:.25rem 0;min-width:150px;box-shadow:0 4px 12px #00000026}html.dark #chapterContextMenu{background-color:#2f2f2f;box-shadow:0 4px 12px #0000004d}#chapterContextMenu .menu-item{padding:.6rem 1rem;cursor:pointer;font-size:.9rem;display:flex;align-items:center;white-space:nowrap;transition:background-color .15s ease-out,color .15s ease-out;color:var(--text-primary)}#chapterContextMenu .menu-item svg{color:var(--text-secondary)}#chapterContextMenu .menu-item:not(.menu-item-disabled):hover,#chapterContextMenu .menu-item:not(.menu-item-disabled):focus-visible{background-color:rgba(var(--accent-rgb),.15);color:var(--accent)}#chapterContextMenu .menu-item:not(.menu-item-disabled):hover svg,#chapterContextMenu .menu-item:not(.menu-item-disabled):focus-visible svg{color:var(--accent)}#chapterContextMenu .menu-item-delete{color:var(--error)}#chapterContextMenu .menu-item-delete svg{color:var(--error)}#chapterContextMenu .menu-item-delete:not(.menu-item-disabled):hover,#chapterContextMenu .menu-item-delete:not(.menu-item-disabled):focus-visible{background-color:rgba(var(--error-rgb),.15);color:var(--error)}#chapterContextMenu .menu-item-delete:not(.menu-item-disabled):hover svg,#chapterContextMenu .menu-item-delete:not(.menu-item-disabled):focus-visible svg{color:var(--error)}#chapterContextMenu .menu-item.menu-item-disabled{color:var(--text-secondary);opacity:.6;cursor:not-allowed}#chapterContextMenu .menu-item.menu-item-disabled svg{color:var(--text-secondary);opacity:.6}#chapterContextMenu .menu-item.menu-item-disabled:hover,#chapterContextMenu .menu-item.menu-item-disabled:focus-visible{background-color:transparent!important;color:var(--text-secondary)!important}.ck.ck-editor.ck-editor--classic{border-radius:0}.ck.ck-editor__top .ck-toolbar{background-color:var(--surface)!important;border-bottom:1px solid var(--border-color)!important;border-top-left-radius:0!important;border-top-right-radius:0!important;box-shadow:none!important}.ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items{flex-wrap:wrap}.ck.ck-editor--classic .ck-editor__main{flex-grow:1;min-height:0;position:relative}.ck.ck-editor__editable_inline{background-color:var(--bg)!important;color:var(--onSurface)!important;height:100%;font-size:calc(1rem * var(--editor-font-scale));line-height:1.7;padding:1rem 1.5rem;border:none;border-bottom-left-radius:0;border-bottom-right-radius:0;overflow-y:auto;caret-color:var(--accent)}.ck.ck-editor__editable_inline.ck-placeholder:before,.ck-placeholder{color:var(--text-secondary)!important;opacity:.7}.ck.ck-balloon-panel{background-color:var(--surface)!important;color:var(--onSurface)!important;border:1px solid var(--border-color)!important;border-radius:6px!important;box-shadow:0 4px 12px #00000026!important;z-index:100}html.dark .ck.ck-balloon-panel{box-shadow:0 4px 12px #0000004d!important}.ck.ck-button{color:var(--onSurface)!important;background-color:transparent!important;cursor:pointer}.ck.ck-button:hover,.ck.ck-button.ck-on{background-color:rgba(var(--accent-rgb),.15)!important;color:var(--accent)!important;outline:none!important}.ck.ck-button.ck-on{background-color:rgba(var(--accent-rgb),.25)!important}.ck.ck-button.ck-disabled:hover{background-color:transparent!important}.ck.ck-dropdown__panel{background-color:var(--surface)!important;border:1px solid var(--border-color)!important;border-radius:6px!important;box-shadow:0 2px 8px #00000026!important}html.dark .ck.ck-dropdown__panel{box-shadow:0 2px 8px #00000040!important}.ck.ck-list__item .ck-button:hover{background-color:rgba(var(--accent-rgb),.15)!important;color:var(--accent)!important}.ck.ck-icon,.ck.ck-icon *{color:var(--onSurface)!important}html:not(.dark) .ck.ck-button:hover .ck-icon,html:not(.dark) .ck.ck-button:hover .ck-icon *,html:not(.dark) .ck.ck-button.ck-on .ck-icon,html:not(.dark) .ck.ck-button.ck-on .ck-icon *{color:var(--accent)!important}html.dark .ck.ck-button:hover .ck-icon,html.dark .ck.ck-button:hover .ck-icon *,html.dark .ck.ck-button.ck-on .ck-icon,html.dark .ck.ck-button.ck-on .ck-icon *{color:var(--accent)!important}.ck.ck-form-header{background-color:var(--surface)!important;color:var(--onSurface)!important}.ck.ck-input{background-color:var(--input-bg)!important;color:var(--onSurface)!important;border:1px solid var(--border-color)!important}.ck.ck-input:focus{border-color:var(--accent)!important;box-shadow:0 0 0 1px var(--accent)!important}.ck.ck-labeled-field-view__input_textarea{background-color:var(--input-bg)!important;color:var(--onSurface)!important;border:1px solid var(--border-color)!important}.ck.ck-find-and-replace-form{background-color:var(--surface)!important;border:1px solid var(--border-color)!important;box-shadow:0 4px 12px #00000026!important}html.dark .ck.ck-find-and-replace-form{box-shadow:0 4px 12px #0000004d!important}.ck.ck-find-and-replace-form .ck-input-text{background-color:var(--input-bg)!important;color:var(--onSurface)!important;border:1px solid var(--border-color)!important}.ck.ck-find-and-replace-form .ck-form__header{color:var(--onSurface)!important}.ck.ck-contextual-balloon{background-color:var(--surface)!important;color:var(--onSurface)!important;border:1px solid var(--border-color)!important;border-radius:6px!important;box-shadow:0 4px 12px #00000026!important}html.dark .ck.ck-contextual-balloon{box-shadow:0 4px 12px #0000004d!important}.ck-editor__editable ::selection{background-color:rgba(var(--accent-rgb),.3);color:var(--onSurface)}.ck-editor__editable.ck-focused ::selection{background-color:rgba(var(--accent-rgb),.4)}.ck-content pre{background-color:#282c34;color:#abb2bf;padding:1em;border-radius:4px;font-family:SFMono-Regular,Consolas,Liberation Mono,Menlo,Courier,monospace;white-space:pre-wrap;word-wrap:break-word;border:1px solid var(--border-color)}html:not(.dark) .ck-content pre{background-color:#f5f5f5;color:#333;border:1px solid #ddd}.ck-content code{background-color:rgba(var(--accent-rgb),.1);padding:.1em .3em;border-radius:3px;font-family:SFMono-Regular,Consolas,Liberation Mono,Menlo,Courier,monospace;color:var(--accent)}.ck-content pre code{background-color:transparent;padding:0;border-radius:0;color:inherit}.modal-overlay{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;align-items:center;justify-content:center;z-index:200;padding:1rem;opacity:0;visibility:hidden;transition:opacity .2s ease-in-out,visibility .2s ease-in-out}html.dark .modal-overlay{background-color:#000000bf}.modal-overlay.active{opacity:1;visibility:visible}.modal-overlay.active .modal{transform:translateY(0) scale(1);opacity:1}.modal{background-color:var(--surface);color:var(--onSurface);border-radius:8px;max-width:400px;width:100%;padding:1.5rem;box-shadow:0 5px 15px #0003;transform:translateY(20px) scale(.95);opacity:0;transition:transform .2s ease-in-out,opacity .2s ease-in-out}html.dark .modal{box-shadow:0 5px 15px #00000080}.modal h2{margin-bottom:1rem;font-size:1.35rem;color:var(--text-primary);font-weight:600}.modal p.modal-message{margin-bottom:1.5rem;font-size:.95rem;line-height:1.6;color:var(--text-secondary)}.modal label{display:block;margin-bottom:.25rem;font-size:.9rem;color:var(--text-secondary)}.modal input[type=text],.modal input[type=file],.modal select{width:100%;padding:.75rem;margin-bottom:1rem;background-color:var(--input-bg);border:1px solid var(--border-color);border-radius:6px;color:var(--onSurface);font-size:1rem}.modal input[type=text]:focus,.modal input[type=file]:focus,.modal select:focus{border-color:var(--accent);box-shadow:0 0 0 2px rgba(var(--accent-rgb),.3);outline:none}.modal .actions{display:flex;justify-content:flex-end;gap:.75rem;margin-top:1rem}.modal .btn{padding:.6rem 1.2rem;border-radius:6px;font-weight:500;transition:background-color .2s,opacity .2s,color .2s,border-color .2s;text-transform:uppercase;font-size:.8rem;letter-spacing:.05em}.modal .btn-primary{background-color:var(--accent);color:#fff}html:not(.dark) .modal .btn-primary{color:#fff}html.dark .modal .btn-primary{color:#fff}.modal .btn-primary:hover{opacity:.85}.modal .btn-secondary{background-color:transparent;color:var(--onSurface);border:1px solid var(--border-color)}.modal .btn-secondary:hover{background-color:rgba(var(--onSurface-rgb, 128,128,128),.08);border-color:var(--accent)}.modal input[type=file]{padding:.5rem}.modal input[type=file]::file-selector-button{background-color:var(--accent);color:#fff;border:none;padding:.5rem 1rem;border-radius:4px;margin-right:.5rem;cursor:pointer;transition:opacity .2s}.modal input[type=file]::file-selector-button:hover{opacity:.85}#coverPreviewContainer{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:100px;border:2px dashed var(--border-color);border-radius:6px;padding:.5rem;margin-bottom:.5rem;background-color:rgba(var(--accent-rgb),.05)}#coverPreviewImage{max-width:100%;max-height:128px;object-fit:contain;border-radius:4px}#coverPreviewPlaceholder{font-size:.875rem;color:var(--text-secondary);text-align:center}#removeCoverBtn{background:none;border:none;color:var(--error);text-decoration:underline;font-size:.75rem;cursor:pointer;padding:.25rem 0;transition:color .2s}#removeCoverBtn:hover{opacity:.8}
