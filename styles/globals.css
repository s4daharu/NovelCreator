/* Reset / Normalize */
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

body {
  overscroll-behavior-y: contain; /* Prevents pull-to-refresh on mobile in some cases */
  background-color: var(--bg);
  color: var(--onBackground);
}

body.body-modal-open {
  overflow: hidden;
}

/* Scrollbars (adapts to theme) */
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}
::-webkit-scrollbar-track {
  background: var(--surface);
}
::-webkit-scrollbar-thumb {
  background: var(--text-secondary); /* Use a less prominent color from theme */
  border-radius: 4px;
}
::-webkit-scrollbar-thumb:hover {
  background: var(--accent); /* Use accent on hover for thumb */
}

/* Utility classes (complementing Tailwind or for standalone use) */
.hidden {
  display: none !important;
}
.flex {
  display: flex;
}
.flex-col {
  flex-direction: column;
}
.flex-1 {
  flex: 1;
}
.h-screen {
  height: 100vh;
}
.overflow-hidden {
  overflow: hidden;
}
.overflow-auto {
  overflow: auto;
}

/* Link & Button defaults */
button, a {
  background: none;
  border: none;
  font: inherit;
  color: inherit;
  cursor: pointer;
  text-decoration: none;
  -webkit-tap-highlight-color: transparent; /* Remove tap highlight on mobile */
}

button:disabled, a:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

h1, h2, h3, h4, h5, h6 {
  font-weight: 600; /* Slightly bolder headings */
  line-height: 1.3;
  color: var(--text-primary); /* Ensure headings use primary text color */
}

ul, ol {
  list-style: none;
}

img {
  max-width: 100%;
  height: auto;
  display: block;
}

/* Ensure Tailwind placeholder color uses CSS var */
.placeholder-gray-500::placeholder, /* Legacy, if used directly */
.placeholder-color-text-secondary::placeholder { /* Custom class from Tailwind config */
    color: var(--text-secondary);
    opacity: 0.7;
}


/* Adjust hover effects for Tailwind buttons if they don't use vars */
.hover\:bg-gray-700\/50:hover {
    background-color: rgba(var(--onSurface-rgb, 224,224,224), 0.1); /* Example for dark theme compatible hover */
}
html.dark .hover\:bg-gray-700:hover {
    background-color: #374151; /* Re-specify for dark if needed, or use var */
}

/* FAB specific - though Tailwind classes mostly cover this */
#addChapterFab {
    /* Ensure z-index is high enough if other fixed elements exist */
    /* z-index: 50; is already set by Tailwind class 'z-50' */
    /* Additional styles if needed, e.g. for specific transitions not covered by Tailwind */
}